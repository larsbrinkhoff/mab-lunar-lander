DR0:[20,1]LANDER.MAC;24                                                                                                        PAGE 6




  217
  218   NOCOL:  SUB THURST,FUEL                 ; UNITS OF FUEL ARE THRUST PER TICK
  219           BGT 1$                          ; OUT OF FUEL?
  220           CLR THRUST
  221           CLR FUEL
  222   1$:     ADD GRAV,YVEL                   ; NOTE THAT GRAVITY MUST BE SIGNED, MAY BE POSITIVE!
  223           MOV THRUST,R1
  224           MOV ENGIN,R0
  225           DEC R0
  226           ASL R0
  227           MUL SINTAB(R0),R1               ; COMPUTE THE X COMPONENT OF ROCKET THRUST
  228           ASH #-9.,R1                     ; AND TABLE ENTRIESS FOR SIN,COS ARE IN OCTAL 1000THS
  229           ADD R1,XVEL
  230           MOV THRUST,R1
  231           MUL COSTAB(R0),R1
  232           ASH #-9.,R1
  233           ADD R1,YVEL                     ; SAME FOR Y COMPONENT
  234           ADD XVEL,XPOS
  235           ADD YVEL,YPOS
  236
  237
