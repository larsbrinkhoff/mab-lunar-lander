DR0:[20,1]LANDER.MAC;24                                                                                                        PAGE 5




  175
  176   START:  ALUN$C 1,TI
  177           QIO$C IO.ATA,1,,,,,<TTYINT>
  178           MRKT$C 2,1,1,CLKINT
  179           SNDSTR #INITMS
  180           INC COLFLG
  181           JMP MAINLP
  182
  183   NEWGAM: CLR TICKS
  184           MOV FUELMX,FUEL
  185           MOV XVELI,XVEL                  ; KEEPING TWEAKABLE CONSTANTS IN VARIABLES, SO WE
  186           MOV YVELI,YVEL                  ; CAN CHANGE THEM USING THE MACHINES SWITCHES AT RUN TIME
  187           MOV #1,XPREV
  188           MOV #1,YPREV
  189           MOV #1,XRPREV
  190           MOV #1,YRPREV
  191           MOV THRSTI,THRUST
  192           MOV #2,ENGIN
  193
  194           ; ENGINES ARE NUMBERED AS FOLLOWS:
  195
  196           ;          5
  197           ;       6     4
  198           ;    7     L    3
  199           ;       8     2
  200           ;          1
  201
  202           ; NOTE THAT THE NUMBER OF AN ENGINE IS ALSO THE INDEX INTO THE SIN AND COS TABLES
  203           ; CORRESPONDING TO THE X AND Y COMPONENTS OF THRUST DUE TO THAT ENGINE.
  204
  205           MOV XPOSI,XPOS
  206           MOV YPOSI,YPOS
  207
  208   MAINLP: TST COLFLG                      ; COLLISION?
  209           BEQ NOCOL
  210   1$:     TST RESFLG
  211           BEQ 1$                          ; TIME TO RESUME NEW GAME?
  212           CLR RESFLG
  213           CLR COLFLG
  214           INC HDRFLG
  215           JMP NEWGAM
  216
